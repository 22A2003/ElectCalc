<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>éé›»æµãƒã‚§ãƒƒã‚¯æ•™æ</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      max-width: 900px;
      margin: 2rem auto;
      padding: 1rem;
      background-color: #f7f9fa;
      line-height: 1.6;
    }

    h1 {
      text-align: center;
      margin-bottom: 1.5rem;
    }

    section {
      background: #fff;
      padding: 1rem 1.5rem;
      margin-bottom: 1.5rem;
      border-radius: 10px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
    }

    /* --- ä¾‹é¡Œã®ç”»åƒè¡¨ç¤º --- */
    .example-item {
      display: flex;
      align-items: center;
      gap: 1rem;
      margin-bottom: 0.8rem;
    }

    .example-item img {
      width: 75px;
      border-radius: 8px;
      border: 1px solid #ccc;
      background: white;
      padding: 4px;
    }

    /* --- ç·´ç¿’å•é¡Œ --- */
    .device, .total-input {
      display: grid;
      grid-template-columns: 80px 1fr 1fr 1fr;
      gap: 0.5rem;
      align-items: center;
      margin-bottom: 0.5rem;
      padding: 0.5rem;
      background: #fefefe;
      border: 1px solid #ddd;
      border-radius: 8px;
    }

    .device img {
      width: 70px;
      border-radius: 6px;
      border: 1px solid #ccc;
      background: white;
      padding: 3px;
    }

    .header {
      font-weight: bold;
      text-align: center;
    }

    input {
      text-align: center;
      padding: 0.35rem;
      border-radius: 6px;
      border: 1px solid #aaa;
      font-size: 1rem;
    }

    button {
      padding: 0.6rem 1.2rem;
      margin-right: 0.5rem;
      border-radius: 8px;
      border: none;
      cursor: pointer;
      font-size: 1rem;
    }

    .blue {
      background-color: #3b82f6;
      color: white;
    }

    .gray {
      background-color: #e5e7eb;
    }

    .shadow {
      box-shadow: 2px 2px 5px rgba(0,0,0,0.2);
    }

    .text-green { color: green; font-weight: bold; }
  </style>
</head>

<body>
  <h1>éé›»æµãƒã‚§ãƒƒã‚¯æ•™æ</h1>

  <!-- ========================= -->
  <!--        ä¾‹é¡Œã‚»ã‚¯ã‚·ãƒ§ãƒ³      -->
  <!-- ========================= -->
  <section>
    <h2>ğŸ“˜ ä¾‹é¡Œ</h2>
    <p>æ¬¡ã®æ©Ÿå™¨ã‚’ãƒ†ãƒ¼ãƒ–ãƒ«ã‚¿ãƒƒãƒ—ã«æ¥ç¶šã—ãŸã¨ãã€éé›»æµã«ãªã‚‹ã‹èª¿ã¹ã¾ã—ã‚‡ã†ã€‚</p>

    <div class="example-item">
      <img src="hair_drier.png" alt="ãƒ‰ãƒ©ã‚¤ãƒ¤ãƒ¼">
      <span>ãƒ‰ãƒ©ã‚¤ãƒ¤ãƒ¼ï¼š1200W</span>
    </div>

    <div class="example-item">
      <img src="smartphone_juuden.png" alt="ã‚¹ãƒãƒ›å……é›»å™¨">
      <span>ã‚¹ãƒãƒ›å……é›»å™¨ï¼š20W</span>
    </div>

    <p>
      ã€è¨ˆç®—ã®ã—ã‹ãŸã€‘<br>
      ãƒ‰ãƒ©ã‚¤ãƒ¤ãƒ¼ï¼š1200W Ã· 100V ï¼ <strong>12A</strong><br>
      ã‚¹ãƒãƒ›å……é›»å™¨ï¼š20W Ã· 100V ï¼ <strong>0.20A</strong><br>
      åˆè¨ˆé›»æµï¼12A ï¼‹ 0.20A ï¼ <strong>12.20A</strong>
    </p>

    <p class="text-green">âœ” å®šæ ¼å†…ï¼ˆ15Aã¾ã§ï¼‰</p>
  </section>

  <!-- ========================= -->
  <!--      ç·´ç¿’å•é¡Œã‚»ã‚¯ã‚·ãƒ§ãƒ³     -->
  <!-- ========================= -->
  <section>
    <h2>âœ ç·´ç¿’å•é¡Œ</h2>
    <p><strong>â€» ãƒ†ãƒ¼ãƒ–ãƒ«ã‚¿ãƒƒãƒ—ã®å®šæ ¼ã¯ 15Aï¼ˆï¼1500Wï¼‰ã§ã™ã€‚</strong></p>

    <div class="header device" style="grid-template-columns:80px 1fr 1fr 1fr;">
      <div>ç”»åƒ</div>
      <div>æ©Ÿå™¨å</div>
      <div>æ¶ˆè²»é›»åŠ›(W)</div>
      <div>é›»æµ(A)</div>
    </div>

    <!-- Device 1 -->
    <div class="device">
      <img id="dev1-img" src="cooking_microwave.png">
      <div id="dev1-name">é›»å­ãƒ¬ãƒ³ã‚¸</div>
      <div id="dev1-watt">1000</div>
      <input type="number" id="dev1-current" step="0.01">
    </div>

    <!-- Device 2 -->
    <div class="device">
      <img id="dev2-img" src="kaden_tv_wide_frame.png">
      <div id="dev2-name">ãƒ†ãƒ¬ãƒ“</div>
      <div id="dev2-watt">150</div>
      <input type="number" id="dev2-current" step="0.01">
    </div>

    <div class="total-input" style="grid-template-columns: 80px 1fr 1fr 1fr;">
      <div></div>
      <div class="header" style="grid-column: span 2; text-align:right;">åˆè¨ˆé›»æµ(A)</div>
      <input type="number" id="total-current" step="0.01">
    </div>

    <button class="blue shadow" onclick="grade()">æ¡ç‚¹ã™ã‚‹</button>
    <button class="gray shadow" onclick="regenerate()">å•é¡Œã‚’æ›´æ–°</button>

    <p id="score"></p>
    <div id="answer" style="margin-top:1rem;"></div>
  </section>

  <!-- ========================= -->
  <!--       JavaScript          -->
  <!-- ========================= -->
  <script>
    const VOLTAGE = 100;

    const deviceImages = {
      "é›»å­ãƒ¬ãƒ³ã‚¸": "cooking_microwave.png",
      "ãƒ†ãƒ¬ãƒ“": "kaden_tv_wide_frame.png",
      "ç‚Šé£¯å™¨": "cooking_suihanki.png",
      "ãƒãƒƒãƒˆ": "cooking_denki_pot.png",
      "PC": "kaden_laptop.png",
      "ã‚²ãƒ¼ãƒ æ©Ÿ": "portable_game.png",
      "ã‚¹ãƒãƒ›å……é›»å™¨": "smartphone_juuden.png"
    };

    function grade() {
      const v1 = parseFloat(document.getElementById("dev1-current").value);
      const v2 = parseFloat(document.getElementById("dev2-current").value);
      const vt = parseFloat(document.getElementById("total-current").value);

      const w1 = parseFloat(document.getElementById("dev1-watt").innerText) / VOLTAGE;
      const w2 = parseFloat(document.getElementById("dev2-watt").innerText) / VOLTAGE;
      const total = w1 + w2;

      let score = 0;
      if (!isNaN(v1) && v1.toFixed(2) == w1.toFixed(2)) score++;
      if (!isNaN(v2) && v2.toFixed(2) == w2.toFixed(2)) score++;
      if (!isNaN(vt) && vt.toFixed(2) == total.toFixed(2)) score++;

      document.getElementById("score").innerText = `ã‚ãªãŸã®å¾—ç‚¹ï¼š${score} / 3`;

      document.getElementById("answer").innerHTML = `
        <p><strong>æ­£è§£ï¼ˆå‚è€ƒï¼‰</strong></p>
        <ul>
          <li>${document.getElementById("dev1-name").innerText} = ${w1.toFixed(2)}A</li>
          <li>${document.getElementById("dev2-name").innerText} = ${w2.toFixed(2)}A</li>
        </ul>
        <p>åˆè¨ˆ = ${total.toFixed(2)}Aï¼ˆ15Aã¾ã§ï¼‰</p>
      `;
    }

    function regenerate() {
      const devices = [
        {name:"é›»å­ãƒ¬ãƒ³ã‚¸", watt:1000},
        {name:"ãƒ†ãƒ¬ãƒ“", watt:150},
        {name:"ç‚Šé£¯å™¨", watt:700},
        {name:"ãƒãƒƒãƒˆ", watt:800},
        {name:"PC", watt:200},
        {name:"ã‚²ãƒ¼ãƒ æ©Ÿ", watt:120},
        {name:"ã‚¹ãƒãƒ›å……é›»å™¨", watt:20}
      ];

      devices.sort(() => Math.random() - 0.5);

      // Device 1
      document.getElementById("dev1-name").innerText = devices[0].name;
      document.getElementById("dev1-watt").innerText = devices[0].watt;
      document.getElementById("dev1-img").src = deviceImages[devices[0].name];

      // Device 2
      document.getElementById("dev2-name").innerText = devices[1].name;
      document.getElementById("dev2-watt").innerText = devices[1].watt;
      document.getElementById("dev2-img").src = deviceImages[devices[1].name];

      // reset
      document.getElementById("dev1-current").value = "";
      document.getElementById("dev2-current").value = "";
      document.getElementById("total-current").value = "";
      document.getElementById("score").innerText = "";
      document.getElementById("answer").innerHTML = "";
    }
  </script>
</body>
</html>
